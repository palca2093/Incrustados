/*
 * TOOLS.h
 *
 *  Created on: 12 abr. 2018
 *      Author: esteban
 */

#include <TOOLS.h>
#include "msp.h"

TOOLS::TOOLS()
{}

void TOOLS::TERM_CONF(DIO_PORT_Even_Interruptable_Type *i_pPort, int i_iPin, int i_iFunction)
{
    // Exchange PIN number for PIN bit

    unsigned short i_u16Pin;

    switch(i_iPin)
    {
        case 0: i_u16Pin = BIT0;
        case 1: i_u16Pin = BIT1;
        case 2: i_u16Pin = BIT2;
        case 3: i_u16Pin = BIT3;
        case 4: i_u16Pin = BIT4;
        case 5: i_u16Pin = BIT5;
        case 6: i_u16Pin = BIT6;
        case 7: i_u16Pin = BIT7;
    }

    // Current value of port saved
    unsigned short l_u16Port_Value = i_pPort -> DIR;


    if(i_iFunction == 0)
    {
        i_u16Pin = !i_u16Pin;
        l_u16Port_Value = l_u16Port_Value && i_u16Pin;
    }
    else
    {
        l_u16Port_Value = l_u16Port_Value || i_u16Pin;
    }


    i_pPort -> DIR = l_u16Port_Value;


}
